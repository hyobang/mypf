<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>위메프오</title>
    <link rel="stylesheet" href="./index.css" />
    <link rel="stylesheet" href="./node_modules/swiper/swiper-bundle.min.css" />
  </head>
  <body>
    <div class="map">
      <figure></figure>
    </div>
    <div class="remote">
      <ul>
        <li><a href="#sec1" class="black"></a></li>
        <li><a href="#sec2"></a></li>
        <li><a href="#sec3"></a></li>
        <li><a href="#sec4"></a></li>
        <li><a href="#sec5"></a></li>
        <li><a href="#footer"></a></li>
      </ul>
    </div>
    <header>
      <ul class="flex">
        <li>
          <a href="#">
            <h1 id="logo"></h1>
          </a>
        </li>
        <li>
          <a href="#" class="link">
            <figure>
              <img src="./images/플러스.png" alt="플러스" />
            </figure>
          </a>
        </li>
        <li>
          <a href="#" class="link">
            <figure>
              <img src="./images/파트너스.png" alt="파트너스" />
            </figure>
          </a>
        </li>
      </ul>
    </header>
    <section id="sec1">
      <!-- autoplay-delay="10000"  -->
      <!-- loop="true" -->
      <div class="inner">
        <swiper-container
          pagination="true"
          pagination-clickable="true"
          space-between="30"
          effect="fade"
          navigation="true"
        >
          <swiper-slide>
            <h2>
              <a href="#"> </a>
            </h2>
            <p>
              맛집배달, 맛집할인티켓, 키즈카페,
              <br />
              뷰티헤어샵할인, 해외여행입장권 할인까지
              <br />
              모든 O2O서비스를 위메프오에서 쇼핑하세요.
            </p>
            <ul class="linkBtn flex">
              <li>
                <a href="#">
                  <span id="apple"></span>
                </a>
              </li>
              <li>
                <a href="#">
                  <span id="google"></span>
                </a>
              </li>
            </ul>
            <div class="visual">
              <ul>
                <li id="char1" class="charMain">
                  <figure>
                    <img src="./images/sec1-1cha.svg" alt="캐릭터1" />
                  </figure>
                </li>
                <li class="circle circle1"></li>
                <li class="phone"></li>
                <li class="mockUp mockUp1"></li>
              </ul>
            </div>
            <div class=""></div>
          </swiper-slide>
          <swiper-slide>
            <h2>
              <a href="#"> </a>
            </h2>
            <p>
              내 주변 다양한 매장들의 할인 혜택
              <br />
              맛집, 방문 청소·세탁, 꽃배달, 마트 배달, 명품 배달 등
              <br />
              위메프오 만의 차별화된 서비스를 이용할 수 있습니다.
            </p>
            <ul class="linkBtn flex">
              <li>
                <a href="#">
                  <span id="apple"></span>
                </a>
              </li>
              <li>
                <a href="#">
                  <span id="google"></span>
                </a>
              </li>
            </ul>
            <div class="visual">
              <ul>
                <li id="char2up" class="charMain">
                  <figure>
                    <img src="./images/sec1-2cha.svg" alt="캐릭터1" />
                  </figure>
                </li>
                <li id="char2down" class="charMain">
                  <figure>
                    <img src="./images/sec1-2cha2.svg" alt="캐릭터1" />
                  </figure>
                </li>
                <li class="circle circle2"></li>
                <li class="phone"></li>
                <li class="mockUp mockUp2"></li>
              </ul>
            </div>
          </swiper-slide>
          <swiper-slide>
            <h2>
              <a href="#"> </a>
            </h2>
            <p>
              내 주변 다양한 할인티켓을 경험해 보세요.
              <br />
              맛집, 운동, 원데이 클래스, 뷰티, 헤어, 마사지 등
              <br />
              평소 몰랐던 내 주변 할인 혜택을 한눈에 확인하실 수 있습니다.
            </p>
            <ul class="linkBtn flex">
              <li>
                <a href="#">
                  <span id="apple"></span>
                </a>
              </li>
              <li>
                <a href="#">
                  <span id="google"></span>
                </a>
              </li>
            </ul>
            <div class="visual">
              <ul>
                <li id="char3up" class="charMain">
                  <figure>
                    <img src="./images/sec1-3cha.svg" alt="캐릭터1" />
                  </figure>
                </li>
                <li id="char3down" class="charMain">
                  <figure>
                    <img src="./images/sec1-3cha2.svg" alt="캐릭터1" />
                  </figure>
                </li>
                <li class="circle circle3"></li>
                <li class="phone"></li>
                <li class="mockUp mockUp3"></li>
              </ul>
            </div>
          </swiper-slide>
        </swiper-container>
      </div>
    </section>
    <section id="sec2">
      <div class="inner">
        <div class="sec2-text">
          <h2></h2>
          <b>배달 서비스</b>
          <p>우리동네 맛집은 기본, 편의점배달, 생활편의배달도<br />위메프오!</p>
          <b>픽업 서비스</b>
          <p>
            바쁜 출퇴근 시간, 붐비는 식사시간<br />줄서지 않고 미리 주문하고
            빠르게 픽업하세요!
          </p>
        </div>
        <div class="sec2-mockUp"></div>
      </div>
      <div class="sec2-cha"></div>
    </section>
    <section id="sec3">
      <div class="inner">
        <div class="sec3-text">
          <h2></h2>
          <p>
            앱 하나로 티켓 구매부터 사용까지!
            <br />
            매장 방문 시 구매한 티켓 선택한 후,
            <br />
            직원에게 화면만 보여주면 사용처리 완료!
          </p>
          <p>
            전국 카페, 전국맛집, 키즈카페, 테마/체험,
            <br />
            뷰티, 헤어, 네일 , 해외여행입장권 이용 가능!
          </p>
        </div>
        <div class="sec3-mockUp">
          <h3></h3>
        </div>
      </div>
      <div class="sec3-cha"></div>
    </section>
    <section id="sec4">
      <div class="inner">
        <div class="sec4-text">
          <h2></h2>
          <p>
            신용/체크카드 1회 등록 후 언제 어디서나 간편 결제!
            <br />
            적립된 포인트는 결제 시 현금과 동일하게 간편 사용
          </p>
        </div>
        <div class="sec4-mockUp">
          <div class="sec4-phone"></div>
          <div class="sec4-cha"></div>
        </div>
      </div>
    </section>
    <section id="sec5">
      <div class="inner">
        <div class="sec5-text">
          <h2></h2>
        </div>
        <ul class="sec4-app flex">
          <li>
            <figure></figure>
            <p>
              내 주변 매장!
              <br />
              편리하고 합리적으로 이용하고 싶다면?
            </p>
            <div class="sec4-btn">
              <ul class="flex">
                <li>
                  <a href="#">
                    <span class="apple"></span>
                  </a>
                </li>
                <li>
                  <a href="#">
                    <span class="google"></span>
                  </a>
                </li>
              </ul>
            </div>
          </li>
          <li>
            <figure></figure>
            <p>
              매장으로 직접 찾아오는
              <br />
              고객님들을 만나고 싶다면?
            </p>
            <div class="sec4-btn">
              <ul class="flex">
                <li>
                  <a href="#"> 입점 신청하기 </a>
                </li>
              </ul>
            </div>
          </li>
        </ul>
      </div>
    </section>
    <footer id="footer">
      <div class="inner">
        <div class="footer-cha">
          <figure></figure>
          <div class="footer-cha-desc" id="mrO">
            <h5>쇼핑 중독 사자</h5>
            <h4>오사장</h4>
            <p>
              끝임없이 배달되는 택배 때문에
              <br />
              포미에게 혼날까봐 늘 포커페이스인
              <br />
              쇼핑 중독 사자, 오사장.
              <br />
              오사장은 남이 뒤를 보는 것을
              <br />
              싫어합니다.
            </p>
          </div>
          <div class="footer-cha-desc" id="pommy">
            <h5>포인트를 수집하는 미어켓</h5>
            <h4>포미</h4>
            <p>
              포인트를 수집하는 것이 취미인 알뜰한 미어캣.
              <br />
              늘 발랄한 성격을 지니고 있지만
              <br />
              오사장도 두려움에 떠는 다혈질이랍니다.
              <br />
              포미는 집에 아무도 초대하지 않아요.
              <br />
              그래서 포인트를 얼마나 모았는지는
              <br />
              아무도 모르는 비밀!
            </p>
          </div>
        </div>
        <address class="flex">
          <h2></h2>
          <ul class="flex">
            <li>
              <p>대표이사 하재욱</p>
            </li>
            <li>
              <p>서울특별시 강남구 테헤란로83길 18 3층</p>
            </li>
            <li>
              <p>사업자등록번호 755-88-01674</p>
            </li>
            <li>
              <p>문의 help@wmpo.co.kr</p>
            </li>
            <li>
              <a href="#">개인정보처리방침</a>
            </li>
          </ul>
        </address>
      </div>
    </footer>

    <!-- swiper cdn -->
    <script src="./scripts/swiper-element-bundle.min.js"></script>
    <script>
      //wheel값에 따라 각 섹션의 top값으로 스크롤 이동
      const remotes = document.querySelectorAll(".remote ul li a");
      const logo = document.querySelector('#logo')
      const logostyle = window.getComputedStyle(logo)
      const logoBg = logostyle.backgroundPosition
      let defaultPos = document.querySelector("#sec1");
      const handleScr = () => {
        window.addEventListener(
          "wheel",
          (e) => {
            let isThrottled = false;
            // 기본스크롤이벤트를 막음.
            e.preventDefault();
            //wheel값을 1 과 -1로 설정
            const delta = Math.sign(e.deltaY);
            //이전형제요소와 다음형제요소를 선언
            let nextEle = defaultPos.nextElementSibling;
            let prevEle = defaultPos.previousElementSibling;
            //wheel이벤트이기때문에 스로틀 기능 추가
            if (!isThrottled) {
              isThrottled = true;
              setTimeout(() => {
                //wheel을 하단으로 내리면 matches를이용하여 section과 footer만 찾는다.
                if (delta > 0 && nextEle.matches("section, footer")) {
                  window.scroll({
                    top: nextEle.offsetTop,
                    behavior: "smooth",
                  });
                  // 초기값을 다음형제요소로 재할당
                  defaultPos = nextEle;
                } else if (delta < 0 && prevEle.matches("section, footer")) {
                  window.scroll({
                    top: prevEle.offsetTop,
                    behavior: "smooth",
                  });
                  defaultPos = prevEle;
                }
                //remote버튼이 해당 영역에 오면 테두리 색상 추가.
                for (const remote of remotes) {
                  const href = remote.getAttribute("href");
                  const newLogoBg = logoBg.replace('-288', '-259');
                  if (defaultPos === document.querySelector(href)) {
                    remote.classList.add("black");
                  }else{
                    remote.classList.remove("black");
                  }
                  if(defaultPos === document.querySelector(href) && defaultPos.matches('#sec3, #sec5')){
                    logo.style.backgroundPosition = newLogoBg;
                  }else if(defaultPos === document.querySelector(href) && !defaultPos.matches('#sec3, #sec5')){
                    logo.style.backgroundPosition = logoBg
                  }
                }
              }, 500);
            }
          },
          // 감시를 아예 막아서 기본스크롤 완전차단
          { passive: false }
        );
      };
      handleScr();
    </script>
  </body>
</html>
